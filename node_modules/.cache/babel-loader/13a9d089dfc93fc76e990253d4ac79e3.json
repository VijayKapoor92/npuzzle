{"ast":null,"code":"export const Storage = {\n  db: localStorage.getItem(STORAGE_DATABASE),\n  response: () => ({\n    status: 1,\n    message: \"\"\n  }),\n  connect: () => {\n    if (!(\"localStorage\" in window)) {\n      alert(\"Erro ao conectar!\");\n      return;\n    }\n\n    Storage.createDB();\n    StorageConfig.createDBConfig();\n  },\n  getLastId: () => Storage.get().length,\n  createDB: () => {\n    if (Storage.db && Storage.db.length) return;\n    localStorage.setItem(STORAGE_DATABASE, Data.push([]));\n  },\n  createDBConfig: () => {\n    if (Storage.db && Storage.db.length) return;\n    if (Storage.db && Storage.db.length) return;\n    localStorage.setItem(STORAGE_DATABASE, Data.push([]));\n    localStorage.setItem(STORAGE_CONFIG_DATABASE, Data.push({\n      type: \"3x3\"\n    }));\n  },\n  insert: game => {\n    let g = Storage.get();\n    if (g.filter(gg => gg.id === game.id).length) return;\n\n    for (let i = 0; i < g.length; i++) if (g[i].status === \"saved\") g[i].status = \"stop\";\n\n    g.push(game);\n    localStorage.setItem(STORAGE_DATABASE, Data.push(g));\n  },\n  update: ({\n    id,\n    status,\n    puzzle,\n    steps\n  }) => {\n    const game = Storage.get();\n    const g = game.filter(dd => dd.id === id).map(dd => {\n      dd.status = status;\n      dd.puzzle = puzzle;\n      dd.steps = steps;\n      return dd;\n    });\n    localStorage.setItem(STORAGE_DATABASE, Data.push(game));\n  },\n  delete: id => {\n    const d = Storage.get();\n    const game = d.filter(dd => dd.id !== id);\n    localStorage.setItem(STORAGE_DATABASE, Data.push(game));\n  },\n  get: () => Data.pull(localStorage.getItem(STORAGE_DATABASE))\n},\n      StorageConfig = {\n  db: localStorage.getItem(STORAGE_CONFIG_DATABASE),\n  update: type => {\n    if (StorageConfig.db && StorageConfig.db.type && StorageConfig.db.type.length) localStorage.setItem(STORAGE_CONFIG_DATABASE, Data.push({\n      type\n    }));\n  }\n};\nconst Data = {\n  push: data => JSON.stringify(data),\n  pull: data => JSON.parse(data),\n  content: [],\n  filterById: id => Storage.get().filter(s => s.id === Storage.getId())\n};","map":{"version":3,"sources":["/Users/vijaykapoor/Documents/github/npuzzle/src/dao/index.js"],"names":["Storage","db","localStorage","getItem","STORAGE_DATABASE","response","status","message","connect","window","alert","createDB","StorageConfig","createDBConfig","getLastId","get","length","setItem","Data","push","STORAGE_CONFIG_DATABASE","type","insert","game","g","filter","gg","id","i","update","puzzle","steps","dd","map","delete","d","pull","data","JSON","stringify","parse","content","filterById","s","getId"],"mappings":"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","sourcesContent":["\n\nexport\n  const Storage = {\n    db: localStorage.getItem(STORAGE_DATABASE),\n    response: () => ({status: 1, message: \"\"}),\n    connect: () => {\n      if (!(\"localStorage\" in window)) {\n        alert(\"Erro ao conectar!\");\n        return;\n      }\n\n      Storage.createDB();\n      StorageConfig.createDBConfig();\n    },\n    getLastId: () => Storage.get().length,\n    createDB: () => {\n      if (Storage.db && Storage.db.length)\n        return;\n\n      localStorage.setItem(STORAGE_DATABASE, Data.push([]));\n    },\n    createDBConfig: () => {\n      if (Storage.db && Storage.db.length)\n        return;\n      if (Storage.db && Storage.db.length)\n        return;\n\n      localStorage.setItem(STORAGE_DATABASE, Data.push([]));\n      localStorage.setItem(STORAGE_CONFIG_DATABASE, Data.push({type: \"3x3\"}));\n    },\n    insert: (game) => {\n      let g = Storage.get();\n      if (g.filter(gg => gg.id === game.id).length)\n        return;\n\n      for (let i = 0; i < g.length; i++)\n        if (g[i].status === \"saved\")\n          g[i].status = \"stop\";\n\n      g.push(game);\n      localStorage.setItem(STORAGE_DATABASE, Data.push(g));\n    },\n    update: ({id, status, puzzle, steps}) => {\n      const game = Storage.get();\n      const g = game.filter(dd => dd.id === id).map(dd => {\n        dd.status = status;\n        dd.puzzle = puzzle;\n        dd.steps = steps;\n        return dd;\n      });\n      localStorage.setItem(STORAGE_DATABASE, Data.push(game));\n    },\n    delete: id => {\n      const d = Storage.get();\n      const game = d.filter(dd => dd.id !== id);\n      localStorage.setItem(STORAGE_DATABASE, Data.push(game));\n    },\n    get: () => Data.pull(localStorage.getItem(STORAGE_DATABASE))\n  },\n  StorageConfig = {\n    db: localStorage.getItem(STORAGE_CONFIG_DATABASE),\n    update: type => {\n      if (StorageConfig.db && StorageConfig.db.type && StorageConfig.db.type.length)\n        localStorage.setItem(STORAGE_CONFIG_DATABASE, Data.push({type}));\n    }\n  };\n\nconst Data = {\n  push: (data) => JSON.stringify(data),\n  pull: (data) => JSON.parse(data),\n  content: [],\n  filterById: id => Storage.get().filter(s => s.id === Storage.getId())\n};"]},"metadata":{},"sourceType":"module"}