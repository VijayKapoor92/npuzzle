{"ast":null,"code":"var _jsxFileName = \"/Users/vijaykapoor/Documents/github/npuzzle/src/components/Game/index.js\";\nimport React from \"react\";\nimport \"../../index.css\";\nimport Board from \"../Board\";\n\nfunction shuffle(squares) {\n  const m = squares.length;\n  let t;\n\n  for (let i = 0; i < m; i++) {\n    let n = squares[i].length,\n        k = Math.floor(Math.random() * i),\n        l;\n\n    for (let j = 0; j < n; j++) {\n      l = Math.floor(Math.random() * j);\n      t = squares[i][j];\n      squares[i][j] = squares[k][l];\n      squares[k][l] = t;\n    }\n  }\n\n  return squares;\n}\n\nfunction getPositionZero(squares) {\n  let position = {},\n      l = squares.length;\n\n  for (let i = 0; i < l; i++) for (let j = 0; j < l; j++) {\n    if (squares[i][j] === 0) position = {\n      i,\n      j\n    };\n  }\n\n  return position;\n}\n\nconst PUZZLE_MODE_EASY = \"easy\",\n      PUZZLE_MODE_MEDIUM = \"medium\",\n      PUZZLE_MODE_HARD = \"hard\";\nconst Puzzles = {\n  \"easy\": [[0, 1, 2], [3, 4, 5], [6, 7, 8]],\n  \"medium\": [[0, 1, 2, 3], [4, 5, 6, 7], [8, 9, 10, 11], [12, 13, 14, 15]],\n  \"hard\": []\n};\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClickSquare = (value, position) => {\n      if (value === 0) {\n        return;\n      }\n\n      let squares = this.state.squares;\n      const zero = getPositionZero(squares);\n\n      if (position.i === zero.i && Math.abs(position.j - zero.j) === 1 || position.j === zero.j && Math.abs(position.i - zero.i) === 1) {\n        squares[position.i][position.j] = 0;\n        squares[zero.i][zero.j] = value;\n        this.setState(state => ({\n          squares,\n          steps: state.steps + 1\n        }));\n      }\n    };\n\n    this.handleReset = () => {\n      this.setState(state => ({\n        squares: shuffle(Puzzles[PUZZLE_MODE_EASY]),\n        steps: 0\n      }));\n    };\n\n    this.state = {\n      squares: shuffle(Puzzles[PUZZLE_MODE_EASY]),\n      steps: 0\n    };\n  }\n\n  render() {\n    const _this$state = this.state,\n          squares = _this$state.squares,\n          steps = _this$state.steps;\n    const _this$props = this.props,\n          onExit = _this$props.onExit,\n          onSaveAndExit = _this$props.onSaveAndExit;\n    return React.createElement(\"div\", {\n      className: \"game-window\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        textAlign: \"center\",\n        marginBottom: 10,\n        fontSize: 18\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        marginBottom: 5\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Passos\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, steps)), React.createElement(\"div\", {\n      className: \"game\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"game-board\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Board, {\n      squares: squares,\n      onClick: this.handleClickSquare,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      style: {\n        marginTop: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => this.handleReset(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Reiniciar\"), React.createElement(\"button\", {\n      onClick: () => onSaveAndExit(squares),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Salvar e Sair\"), React.createElement(\"button\", {\n      onClick: () => onExit(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Sair\")));\n  }\n\n}\n\nexport default Game;","map":{"version":3,"sources":["/Users/vijaykapoor/Documents/github/npuzzle/src/components/Game/index.js"],"names":["React","Board","shuffle","squares","m","length","t","i","n","k","Math","floor","random","l","j","getPositionZero","position","PUZZLE_MODE_EASY","PUZZLE_MODE_MEDIUM","PUZZLE_MODE_HARD","Puzzles","Game","Component","constructor","props","handleClickSquare","value","state","zero","abs","setState","steps","handleReset","render","onExit","onSaveAndExit","textAlign","marginBottom","fontSize","marginTop"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"../../index.css\";\n\nimport Board from \"../Board\";\n\nfunction shuffle(squares) {\n    const m = squares.length;\n    let t;\n    for (let i = 0; i < m; i++) {\n      let n = squares[i].length, k = Math.floor(Math.random() * i), l;\n      for (let j = 0; j < n; j++) {\n        l = Math.floor(Math.random() * j);\n        t = squares[i][j];\n        squares[i][j] = squares[k][l];\n        squares[k][l] = t;\n      }\n    }\n    return squares;\n}\n\nfunction getPositionZero(squares) {\n  let position = {}, l = squares.length;\n  for (let i = 0; i < l; i++)\n    for (let j = 0; j < l; j++) {\n      if (squares[i][j] === 0)\n        position = {i, j};\n    }\n\n  return position;\n}\n\nconst\n  PUZZLE_MODE_EASY = \"easy\",\n  PUZZLE_MODE_MEDIUM = \"medium\",\n  PUZZLE_MODE_HARD = \"hard\";\n\nconst Puzzles = {\n  \"easy\": [\n    [0, 1, 2],\n    [3, 4, 5],\n    [6, 7, 8]\n  ],\n  \"medium\": [\n    [0, 1, 2, 3],\n    [4, 5, 6, 7],\n    [8, 9, 10, 11],\n    [12, 13, 14, 15]\n  ],\n  \"hard\": []\n};\n\nclass Game extends React.Component {\n  constructor(props) {\n      super(props);\n      this.state = {\n        squares: shuffle(Puzzles[PUZZLE_MODE_EASY]),\n        steps: 0\n      };\n  }\n\n  handleClickSquare = (value, position) => {\n      if (value === 0) {\n        return;\n      }\n\n      let squares = this.state.squares;\n      const zero = getPositionZero(squares);\n\n      if ((position.i === zero.i && Math.abs(position.j - zero.j) === 1)\n      || (position.j === zero.j && Math.abs(position.i - zero.i) === 1)) {\n        squares[position.i][position.j] = 0;\n        squares[zero.i][zero.j] = value;\n\n        this.setState(state => ({\n          squares,\n          steps: state.steps + 1\n        }));\n      }\n  };\n\n  handleReset = () => {\n    this.setState(state => ({\n      squares: shuffle(Puzzles[PUZZLE_MODE_EASY]),\n      steps: 0\n    }));\n  };\n\n  render() {\n      const {squares, steps} = this.state;\n      const {onExit, onSaveAndExit} = this.props;\n\n      return (\n        <div className=\"game-window\">\n          <div style={{textAlign: \"center\", marginBottom: 10, fontSize: 18}}>\n            <div style={{marginBottom: 5}}>Passos</div>\n            <div>{steps}</div>\n          </div>\n          <div className=\"game\">\n            <div className=\"game-board\">\n              <Board\n                squares={squares}\n                onClick={this.handleClickSquare}\n              />\n            </div>\n          </div>\n          <div style={{marginTop: 10}}>\n            <button onClick={() => this.handleReset()}>Reiniciar</button>\n            <button onClick={() => onSaveAndExit(squares)}>Salvar e Sair</button>\n            <button onClick={() => onExit()}>Sair</button>\n          </div>\n        </div>\n      );\n  }\n}\n\nexport default Game;"]},"metadata":{},"sourceType":"module"}