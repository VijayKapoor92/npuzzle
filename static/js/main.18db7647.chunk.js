(this.webpackJsonpnpuzzle=this.webpackJsonpnpuzzle||[]).push([[0],{12:function(e,t,n){e.exports=n(23)},17:function(e,t,n){},21:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(9),i=n.n(s),o=n(1),u=n(2),c=n(3),l=n(5),m=n(4),f=n(6);n(17);var d,p,g=function(e){var t=e.value,n=e.position,a=e.onClick;return r.a.createElement("button",{className:"square",onClick:function(){return a(t,n)}},0!==t&&t)},v=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.squares,n=e.winner,a=e.onClick;return n&&(a=function(){return!1}),r.a.createElement("div",null,t.map((function(e,n){return r.a.createElement("div",{key:n,className:"board-row"},e.map((function(e,s){return r.a.createElement(g,{key:s,value:t[n][s],position:{i:n,j:s},onClick:a})})))})))}}]),t}(r.a.Component),h=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onExit,n=e.winner,s=e.onSaveAndExit,i=e.onReset,o=e.onClickSquare,u=e.squares,c=e.steps,l=e.game;return r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"game-window"},r.a.createElement("div",{style:{textAlign:"center",marginBottom:10,fontSize:18}},r.a.createElement("div",{style:{marginBottom:5}},"Passos"),r.a.createElement("div",null,c)),r.a.createElement("div",{className:"game"},r.a.createElement("div",{className:"game-board"},r.a.createElement(v,{winner:n,squares:u,onClick:o}))),r.a.createElement("div",{style:{marginTop:10}},!n&&r.a.createElement("button",{onClick:function(){return i()}},"Reiniciar"),r.a.createElement("button",{onClick:function(){return s(l)}},"Salvar e Sair"),r.a.createElement("button",{onClick:function(){return t()}},"Sair"))))}}]),t}(r.a.Component),E=function(e){var t=e.status,n=e.winner,a=e.game,s=e.squares,i=e.steps,o=e.onExit,u=e.onSaveAndExit,c=e.onReset,l=e.onClickSquare;return"start"===t&&r.a.createElement(h,{game:a,winner:n,squares:s,steps:i,onExit:o,onSaveAndExit:u,onReset:c,onClickSquare:l})},b=n(10),j=n.n(b),S=n(11),O=n.n(S),w=(n(21),function(e){var t=e.open,n=e.title,a=e.children,s=e.winner,i=e.onClose;return r.a.createElement("div",{className:"modal ".concat(t?"show":"")},r.a.createElement("div",{className:"modal-content ".concat(s?"":"modal-config")},r.a.createElement("div",{className:"modal-dismiss",onClick:function(){return i()}},r.a.createElement(j.a,null)),r.a.createElement("div",{className:"modal-title"},n),s&&r.a.createElement("div",null,r.a.createElement(O.a,{style:{fontSize:64}})),r.a.createElement("div",{className:"modal-body"},a)))}),C=function(e){var t=e.open,n=e.steps,a=e.winner,s=e.onClose;return r.a.createElement(w,{open:t,winner:a,title:"Parab\xe9ns!",onClose:s},r.a.createElement("div",{style:{fontSize:24,textAlign:"center",marginTop:20}},n))},k=function(e){var t=e.squares,n=e.status,s=e.onContinue,i=e.onStart;return"start"!==n&&r.a.createElement("div",{className:"first-page"},r.a.createElement("div",{className:"first-page__title"},"N-PUZZLE"),r.a.createElement("div",{className:"first-page__subtitle"},"Venha se divertir"),r.a.createElement("div",{className:"first-page__action-container"},"saved"===n?r.a.createElement(a.Fragment,null,r.a.createElement("button",{className:"btn-start",onClick:function(){return s(t)}},"Continuar jogo salvo"),r.a.createElement("button",{className:"btn-start",onClick:function(){return i(t)}},"Novo jogo")):r.a.createElement("button",{className:"btn-start",onClick:function(){return i(t)}},"Novo jogo")))},y="3x3",q=(n(22),d={},Object(o.a)(d,y,[[1,2,3],[4,5,6],[7,8,0]]),Object(o.a)(d,"4x4",[[1,2,3,4],[5,6,7,8],[9,10,11,12],[13,14,15,0]]),Object(o.a)(d,"5x5",[]),d),N=(p={},Object(o.a)(p,y,[[1,2,3],[4,5,6],[7,8,0]]),Object(o.a)(p,"4x4",[[1,2,3,4],[5,6,7,8],[9,10,11,12],[13,14,15,0]]),Object(o.a)(p,"5x5",[]),p),x=function(e){for(var t,n=e.length,a=0;a<n;a++)for(var r=e[a].length,s=Math.floor(Math.random()*a),i=void 0,o=0;o<r;o++)i=Math.floor(Math.random()*o),t=e[a][o],e[a][o]=e[s][i],e[s][i]=t;return e},z=function(e){for(var t={},n=e.length,a=0;a<n;a++)for(var r=0;r<n;r++)0===e[a][r]&&(t={i:a,j:r});return t},I={db:localStorage.getItem("game"),response:function(){return{status:1,message:""}},connect:function(){"localStorage"in window?I.createDB():alert("Erro ao conectar!")},getLastId:function(){return I.get().length},createDB:function(){I.db&&I.db.length||localStorage.setItem("game",P.push([]))},insert:function(e){var t=I.get();if(!t.filter((function(t){return t.id===e.id})).length){for(var n=0;n<t.length;n++)"saved"===t[n].status&&(t[n].status="stop");t.push(e),localStorage.setItem("game",P.push(t))}},update:function(e){var t=e.id,n=e.status,a=e.puzzle,r=e.steps,s=I.get();s.filter((function(e){return e.id===t})).map((function(e){return e.status=n,e.puzzle=a,e.steps=r,e}));localStorage.setItem("game",P.push(s))},delete:function(e){var t=I.get().filter((function(t){return t.id!==e}));localStorage.setItem("game",P.push(t))},get:function(){return P.pull(localStorage.getItem("game"))}},P={push:function(e){return JSON.stringify(e)},pull:function(e){return JSON.parse(e)},content:[],filterById:function(e){return I.get().filter((function(e){return e.id===I.getId()}))}};function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(n,!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleStart=function(){var e=x(q[y]),t=I.getLastId()+1;I.insert({id:t,status:"start",puzzle:e,steps:0}),n.setState({game:{status:"start",squares:e,steps:0,id:t}})},n.handleExit=function(){I.delete(I.getLastId()),n.setState({game:{status:"stop",steps:0,puzzle:[]},winner:!1})},n.handleSaveAndExit=function(e){I.update({id:e.id,status:"saved",puzzle:e.squares,steps:e.steps}),n.setState({game:{status:"saved",steps:e.steps,squares:e.squares}})},n.handleReset=function(){n.setState((function(e){return A({},e,{game:A({},e.game,{squares:x(q[y]),steps:0})})}))},n.validateColumnAndRow=function(e,t){return e.i===t.i&&1===Math.abs(e.j-t.j)||e.j===t.j&&1===Math.abs(e.i-t.i)},n.validateWinner=function(e){for(var t=0,n=!1,a=e.length*e[e.length-1].length,r=0;r<e.length;r++)for(var s=0;s<e[r].length;s++)e[r][s]===N[y][r][s]&&t++;return t<a&&(t=0),t===a&&(n=!0),n},n.handleClickSquare=function(e,t){var a=n.state.game.squares,r=z(a);if(0!==e&&n.validateColumnAndRow(t,r)){a[t.i][t.j]=0,a[r.i][r.j]=e;var s=n.validateWinner(a);n.setState((function(e){return A({},e,{game:A({},e.game,{squares:a,steps:e.game.steps+1}),winner:s,openWinner:s})}))}},n.handleContinue=function(){return n.setState((function(e){return A({},e,{game:A({},e.game,{status:"start"})})}))},n.handleCloseWinner=function(){return n.setState({openWinner:!1})},n.state={game:{id:0,squares:[],steps:0,status:"stop"},squares:[],steps:0,status:"stop",isWinner:!1,openWinner:!1},n}return Object(f.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){I.connect();var e=I.get();e.length&&e.filter((function(e){return"saved"===e.status})).length&&this.setState((function(t){return A({},t,{game:{squares:e.filter((function(e){return"saved"===e.status})).map((function(e){return e.puzzle}))[0],status:e.filter((function(e){return"saved"===e.status})).map((function(e){return e.status}))[0],steps:e.filter((function(e){return"saved"===e.status})).map((function(e){return e.steps}))[0],id:e.filter((function(e){return"saved"===e.status})).map((function(e){return e.id}))[0]}})}))}},{key:"render",value:function(){var e=this.state,t=e.game,n=e.winner,s=e.openWinner,i=t.status,o=t.squares,u=t.steps;return r.a.createElement(a.Fragment,null,r.a.createElement(C,{open:s,winner:n,steps:u,onClose:this.handleCloseWinner}),r.a.createElement(k,{squares:o,status:i,onStart:this.handleStart,onContinue:this.handleContinue}),r.a.createElement(E,{status:i,winner:n,game:t,squares:o,steps:u,onExit:this.handleExit,onSaveAndExit:this.handleSaveAndExit,onReset:this.handleReset,onClickSquare:this.handleClickSquare}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[12,1,2]]]);
//# sourceMappingURL=main.18db7647.chunk.js.map